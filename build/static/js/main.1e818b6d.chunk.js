(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{122:function(t,e,n){},123:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(28),c=n.n(r),i=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),a(t),s(t),r(t),c(t)}))},o=(n(87),n(15)),u=n.n(o),l=n(25),d=n(11),h=n(12),j=n(14),p=n(13),b=n(1),m=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).update=function(t){return a.setState({value:t.target.value})},a.dosomething=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),window.location.href="/Room/"+a.state.value;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={value:""},a}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:this.dosomething,children:[Object(b.jsx)("input",{value:this.value,onChange:this.update}),Object(b.jsx)("button",{})]}),Object(b.jsx)("div",{id:"room"})]})}}]),n}(a.Component),f=n(39),O=n(9),v=n(32),x=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={email:"",password:"",message:""},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("input",{type:"text",value:this.state.value,onChange:function(e){return t.setState({email:e.target.value})}}),Object(b.jsx)("input",{type:"password",value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})}}),Object(b.jsx)("button",{action:"submit",value:"a",children:"Submit"})]}),Object(b.jsx)("h1",{children:this.state.message})]})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var n=new Headers;n.append("Content-Type","application/json");var a=JSON.stringify({email:this.state.email,password:this.state.password});fetch("/users/login",{method:"POST",headers:n,body:a,redirect:"follow"}).then((function(t){return t.json()})).then((function(t){if(t.error)return e.setState({message:"Das hat nicht geklappt"});e.setState({message:" Das hat geklappt"})})).catch((function(t){e.setState({message:"Fa "}),console.log(t)}))}}]),n}(a.Component),g=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={message:"",valueName:"",password1:"",password2:"",email:""},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("input",{type:"text",value:this.state.value,placeholder:"name",onChange:function(e){return t.setState({valueName:e.target.value})}}),Object(b.jsx)("input",{type:"text",placeholder:"email",value:this.state.value,onChange:function(e){return t.setState({email:e.target.value})}}),Object(b.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,onChange:function(e){return t.setState({password1:e.target.value})}}),Object(b.jsx)("input",{type:"password",placeholder:"password wiederholen",value:this.state.password2,onChange:function(e){return t.setState({password2:e.target.value})}}),Object(b.jsx)("button",{action:"submit",value:"a",children:"Submit"})]}),Object(b.jsx)("h1",{children:this.state.message})]})}},{key:"handleSubmit",value:function(t){var e=this;if(t.preventDefault(),this.state.password1!=this.state.password2)return this.setState({message:" Passw\xf6rter stimmen nicht \xfcber ein "});var n=new Headers;n.append("Content-Type","application/json");var a=JSON.stringify({name:this.state.valueName,password:this.state.password1,email:this.state.email});fetch("/users",{method:"POST",headers:n,body:a,redirect:"follow"}).then((function(t){return t.text()})).then((function(t){return e.setState({message:"Du hast dich erfolgreich registriert"})})).catch((function(t){return console.log("error",t)}))}}]),n}(a.Component),y=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={room:""},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsx)("form",{onSubmit:this.handleSubmit,children:Object(b.jsx)("input",{onChange:function(e){return t.setState({room:e.target.value})}})})}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=new Headers;e.append("Content-Type","application/json");var n=JSON.stringify({name:this.state.room});fetch("/rooms",{method:"POST",headers:e,body:n,redirect:"follow"}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))}}]),n}(a.Component),S=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={rooms:null},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsx)(s.a.Fragment,{children:this.state.rooms?this.renderRooms():Object(b.jsx)("h1",{children:"loading"})})}},{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/rooms/");case 2:return e=t.sent,t.next=5,e.json();case 5:e=t.sent,this.setState({rooms:e});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"renderRooms",value:function(){return this.state.rooms.map((function(t,e){return Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{to:"/Room/".concat(t.name),children:Object(b.jsx)("li",{children:t.name})})},t.name)}))}}]),n}(a.Component),k=n(74),w=n(130),C=n(79),R=n(129),F=n(18),T=n(78),N=(n(122),function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={buttonstate:"danger",cookies:null},a}return Object(h.a)(n,[{key:"render",value:function(){return this.renderalle()}},{key:"componentDidMount",value:function(){}},{key:"logout",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,a=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),n=new T.a,fetch("/users/logout",{method:"POST",redirect:"follow"}).then((function(t){200===t.status&&(a.setState({buttonstate:"fullfilled"}),n.remove("auth_token",{path:"/"}))})).catch((function(t){return console.log(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"renderalle",value:function(){var t=this;return Object(b.jsx)(w.a,{sticky:"top",className:"color-nav",fixed:"top",children:Object(b.jsxs)(C.a,{children:["/"==document.location.pathname?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)(w.a.Brand,{href:"/",children:"Zu den R\xe4umen"}),document.cookie.toString().includes("auth_token")?Object(b.jsxs)(R.a,{title:"ME",id:"basic-nav-dropdown",children:[Object(b.jsx)(R.a.Item,{href:"/User/me",children:"HOME"}),Object(b.jsx)(F.a,{onClick:function(e){return t.logout(e)},variant:this.state.buttonstate,children:"LOGOUT"})]}):Object(b.jsx)(w.a.Brand,{href:"/login",children:"Login"})]})})}}]),n}(a.Component)),D=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)(N,{}),Object(b.jsx)("div",{children:Object(b.jsx)(f.a,{children:Object(b.jsxs)(O.c,{children:[Object(b.jsx)(O.a,{exact:!0,path:"/",children:Object(b.jsx)(S,{})}),Object(b.jsx)(O.a,{exact:!0,path:"/login",children:Object(b.jsx)(x,{})}),Object(b.jsx)(O.a,{exact:!0,path:"/signUp",children:Object(b.jsx)(g,{})}),Object(b.jsx)(O.a,{exact:!0,path:"/createRoom",children:Object(b.jsx)(y,{})}),Object(b.jsx)(O.a,{exact:!0,path:"/Room/:name",component:k.a}),Object(b.jsx)(O.a,{exact:!0,path:"/search",children:Object(b.jsx)(m,{})})]})})})]})}}]),n}(a.Component);c.a.render(Object(b.jsx)(D,{}),document.getElementById("root")),i()},74:function(t,e,n){"use strict";(function(t){var a=n(15),s=n.n(a),r=n(31),c=n(25),i=n(11),o=n(12),u=n(14),l=n(13),d=n(0),h=n.n(d),j=n(75),p=(n(119),n(124)),b=n(62),m=n(81),f=n(80),O=n(26),v=n(18),x=n(57),g=n(24),y=n(1),S=function(e){Object(u.a)(a,e);var n=Object(l.a)(a);function a(t){var e;return Object(i.a)(this,a),(e=n.call(this,t)).state={Room:null,message:"loading",authstufe:{},editing:!1,tab:"pics",changepics:[],chageprops:{},chagetodos:{},key:"",value:""},e}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:this.props.match.params.name}),this.state.Room?Object(y.jsxs)(h.a.Fragment,{children:[Object(y.jsxs)(p.a,{defaultActiveKey:"pics",id:"uncontrolled-tab-example",onSelect:function(e){t.setState({tab:e,editing:!1,key:"",value:""})},children:[this.state.authstufe.admin||this.state.authstufe.see_pics?Object(y.jsx)(b.a,{eventKey:"pics",title:"Bilder",children:this.renderpics()}):null,this.state.authstufe.see_props||this.state.authstufe.admin?Object(y.jsx)(b.a,{eventKey:"props",title:"Eigenschaften",children:this.renderprops()}):void 0,this.state.authstufe.see_todo||this.state.authstufe.admin?Object(y.jsx)(b.a,{eventKey:"todo",title:"Todo",children:this.rendertodos()}):void 0]}),this.renderButton()]}):Object(y.jsx)("b",{children:this.state.message})]})}},{key:"componentDidMount",value:function(){var t=Object(c.a)(s.a.mark((function t(){var e,n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"GET",redirect:"follow"},t.next=3,fetch("/rooms/"+this.props.match.params.name,e);case 3:return n=t.sent,t.next=6,n.json();case 6:if(a=t.sent,document.cookie.includes("auth_token")){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,fetch("/users/me/auth",e);case 11:return c=t.sent,t.next=14,c.json();case 14:i=t.sent,this.setState({Room:a,authstufe:i,chageprops:Object(r.a)({},a.props),chagetodos:Object(r.a)({},a.todo)}),console.log(a);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handelSelect",value:function(){}},{key:"renderpics",value:function(){var e=this;return this.state.Room.pics?0==this.state.Room.pics.length?Object(y.jsx)("b",{children:"Es sind keine Bilder f\xfcr diesen Raum vorhanden"}):this.state.editing?Object(y.jsx)("div",{className:"RoomPicBox",children:this.state.Room.pics.map((function(n,a){var s=String("data:image/png;base64,"+t.from(n.pic.data).toString("base64"));return Object(y.jsxs)(O.a,{md:"2",children:[" ",Object(y.jsx)(f.a,{src:s,className:"autobilder",fluid:!0},a),Object(y.jsx)(v.a,{id:n._id,onClick:function(t){e.state.changepics.push(t.target.id)},children:"delete"})]},n._id)}))}):Object(y.jsx)("div",{className:"RoomPicBox",children:Object(y.jsx)(m.a,{children:this.state.Room.pics.map((function(e,n){var a=String("data:image/png;base64,"+t.from(e.pic.data).toString("base64"));return Object(y.jsx)(m.a.Item,{children:Object(y.jsx)(f.a,{fluid:!0,src:a,alt:"First slide"})},n)}))})}):Object(y.jsx)("b",{children:"Es sind keine Bilder f\xfcr diesen Raum vorhanden"})}},{key:"renderprops",value:function(){var t=this;if(this.state.Room.props)return this.state.editing?Object(y.jsx)(h.a.Fragment,{children:Object(y.jsx)("div",{className:"PropsList",children:Object(y.jsxs)(x.a,{fluid:"md",children:[Object.keys(this.state.Room.props).map((function(e,n){return Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{value:e,readOnly:!0})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{id:e,value:t.state.chageprops[e],onChange:function(n){return t.setState((function(t){return t.chageprops[e]=n.target.value,t}))}})})]},n)})),Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{onChange:function(e){return t.setState({key:e.target.value})}})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{onChange:function(e){return t.setState({value:e.target.value})}})})]})]})})}):Object(y.jsx)(h.a.Fragment,{children:Object(y.jsxs)("div",{className:"PropsList",children:[" ",Object(y.jsx)(x.a,{fluid:"md",children:Object.keys(this.state.Room.props).map((function(e,n){return Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("p",{children:e})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("p",{children:t.state.Room.props[e]})})]})}))})]})})}},{key:"rendertodos",value:function(){var t=this;if(this.state.Room.todo)return this.state.editing?Object(y.jsx)(h.a.Fragment,{children:Object(y.jsx)("div",{className:"buckedlistList",children:Object(y.jsxs)(x.a,{fluid:"md",children:[Object.keys(this.state.Room.todo).map((function(e,n){return Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{value:e,readOnly:!0})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{id:e,value:t.state.chagetodos[e],onChange:function(n){return t.setState((function(t){return t.chagetodos[e]=n.target.value,console.log(t),t}))}})})]},n)})),console.log("adfasdf"),Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{onChange:function(e){return t.setState({key:e.target.value})}})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("input",{onChange:function(e){return t.setState({value:e.target.value})}})})]})]})})}):Object(y.jsx)(h.a.Fragment,{children:Object(y.jsxs)("div",{className:"buckedlistList",children:[" ",Object(y.jsx)(x.a,{fluid:"md",children:Object.keys(this.state.Room.todo).map((function(e,n){return Object(y.jsxs)(O.a,{children:[Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("p",{children:e})}),Object(y.jsx)(g.a,{md:"auto",children:Object(y.jsx)("p",{children:t.state.Room.todo[e]})})]},n)}))})]})})}},{key:"renderButton",value:function(){var t=this;return"pics"===this.state.tab&&(this.state.authstufe.edit_pics||this.state.authstufe.admin)?Object(y.jsx)("div",{children:this.state.editing?Object(y.jsxs)(h.a.Fragment,{children:[" ",Object(y.jsx)(j.a,{name:this.props.match.params.name}),Object(y.jsxs)(O.a,{children:[Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!1})},children:"cancel"}),Object(y.jsx)(v.a,{variant:"danger",onClick:function(){var e=Object(c.a)(s.a.mark((function e(n){var a,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.changepics,(r=new Headers).append("Content-Type","application/json"),c=JSON.stringify(a),i={method:"DELETE",headers:r,body:c,redirect:"follow"},fetch("/rooms/"+t.props.match.params.name+"/pic/admin",i).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)})),t.setState({editing:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Save"})]})]}):Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!0})},children:"edit"})}):"props"===this.state.tab&&(this.state.authstufe.edit_props||this.state.authstufe.admin)?Object(y.jsx)("div",{children:this.state.editing?Object(y.jsxs)(h.a.Fragment,{children:[" ",Object(y.jsxs)(O.a,{children:[Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!1,chageprops:Object(r.a)({},t.state.Room.props)})},children:"cancel"}),Object(y.jsx)(v.a,{variant:"danger",onClick:function(){var e=Object(c.a)(s.a.mark((function e(n){var a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Headers).append("Content-Type","application/json"),""!==t.state.key&&""!==t.state.value&&(t.state.chageprops[t.state.key]=t.state.value),c=JSON.stringify({props:Object(r.a)({},t.state.chageprops)}),i={method:"PATCH",headers:a,body:c,redirect:"follow"},fetch("/rooms/"+t.props.match.params.name+"/admin",i).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)})),t.setState((function(e){return e.editing=!1,e.Room.props=Object(r.a)({},t.state.chageprops),e}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Save"})]})]}):Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!0})},children:"edit"})}):"todo"===this.state.tab&&(this.state.authstufe.edit_todo||this.state.authstufe.admin)?Object(y.jsx)("div",{children:this.state.editing?Object(y.jsxs)(h.a.Fragment,{children:[" ",Object(y.jsxs)(O.a,{children:[Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!1,chagetodos:Object(r.a)({},t.state.Room.todo)})},children:"cancel"}),Object(y.jsx)(v.a,{variant:"danger",onClick:function(){var e=Object(c.a)(s.a.mark((function e(n){var a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Headers).append("Content-Type","application/json"),""!==t.state.key&&""!==t.state.value&&(t.state.chagetodos[t.state.key]=t.state.value),console.log(t.state.chagetodos),c=JSON.stringify({buckedlist:Object(r.a)({},t.state.chagetodos)}),i={method:"PATCH",headers:a,body:c,redirect:"follow"},fetch("/rooms/"+t.props.match.params.name+"/admin",i).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)})),t.setState((function(e){return e.editing=!1,e.Room.todo=Object(r.a)({},t.state.chagetodos),e}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Save"})]})]}):Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!0})},children:"edit"})}):Object(y.jsx)("div",{children:this.state.editing?Object(y.jsxs)(O.a,{children:[Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!1})},children:"cancel"}),Object(y.jsx)(v.a,{variant:"danger",children:"Save"})]}):Object(y.jsx)(v.a,{onClick:function(){return t.setState({editing:!0})},children:"edit"})})}},{key:"picdeleter",value:function(){}}]),a}(d.Component);e.a=S}).call(this,n(97).Buffer)},75:function(t,e,n){"use strict";var a=n(11),s=n(12),r=n(14),c=n(13),i=n(0),o=n.n(i),u=n(76),l=n.n(u),d=n(1),h=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={message:"Upload!"},s.fileChangedHandler=function(t){s.setState({selectedFile:t.target.files[0]})},s.uploadHandler=function(){console.log(s.state.selectedFile)},s.uploadHandler=function(){var t=new FormData;t.append("pic",s.state.selectedFile,s.state.selectedFile.name),l.a.post("/rooms/"+s.props.name+"/admin/pics",t).then((function(t){return s.setState({message:"Finished"})}))},s}return Object(s.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("input",{type:"file",onChange:this.fileChangedHandler}),Object(d.jsx)("button",{onClick:this.uploadHandler,children:this.state.message})]})}}]),n}(i.Component);e.a=h},87:function(t,e,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.1e818b6d.chunk.js.map